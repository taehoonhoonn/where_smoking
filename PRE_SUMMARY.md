# where_smoking 서비스 기획서 (초안)

## 1. 서비스 개요

### 1.1 기획 배경
- 흡연 규제가 강화되면서, 합법적으로 흡연 가능한 장소를 찾기 어려운 상황이 빈번하게 발생한다.
- 현재 지도 서비스나 커뮤니티는 흡연구역 정보를 체계적으로 제공하지 못하고 있으며, 사용자 경험이 매우 부족하다.
- 지자체, 공공기관, 시설 관리자, 시민 제보 등 다양한 출처의 데이터를 통합해 신뢰할 수 있는 흡연구역 지도 서비스를 제공할 필요가 있다.

### 1.2 서비스 목표
- **흡연자 편의성 향상** : 현재 위치 기반의 흡연구역 검색을 통해 이동 시간과 불필요한 민원을 줄인다.
- **비흡연자 보호** : 금연구역 정보가 명확해져 간접흡연 피해 예방에 기여한다.
- **행정기관 데이터 활용** : 지자체 및 관리기관이 흡연구역 현황을 파악하고 정책 수립에 활용할 수 있도록 한다.

### 1.3 핵심 가치 제안
- 정확한 위치 기반 정보와 최신성을 겸비한 흡연구역 전문 지도.
- 공공 데이터 + 시민 제보 + 관리자 검수를 통한 데이터 품질 유지.
- 제보, 신고, 승인 등 일련의 워크플로우를 통합하여 서비스 내에서 관리 가능.

### 1.4 타깃 사용자
| 구분 | 주요 니즈 |
| --- | --- |
| 흡연자 | 합법적이고 편리한 흡연 장소 탐색 |
| 비흡연자/주민 | 금연구역 정보 확인으로 간접흡연 예방 |
| 지자체/관리자 | 흡연구역 운영관리, 정책 수립 |

---

## 2. 서비스 기능 기획

### 2.1 사용자 기능
1. **현재 위치 기반 검색**
   - 앱 / 웹 접속 시 브라우저 위치 정보 허용 후 주변 흡연구역 자동 표시.
   - 정기적으로 데이터 재확인하여 최신 정보 유지.

2. **지도 상호작용**
   - 줌/이동 시 주변 데이터 재불러오기.
   - 지도 마커 클릭 시 상세 정보: 주소, 상세 설명, 운영 시간 등.

3. **허위 정보 신고 / 사용자 제보**
   - InfoWindow에 신고 버튼 제공 → 신고 내역을 관리자에게 전달.
   - 지도에서 길게 누르면 제보 다이얼로그를 띄워 위치/상세 설명을 입력할 수 있도록 지원.

4. **즐겨찾기/배지 (고도화)**
   - 자주 방문하는 흡연구역을 즐겨찾기에 저장.
   - 방문 횟수/후기 시스템 도입 가능.

### 2.2 관리자 기능
1. **검수 대기 목록**
   - 시민 제보 리스트, 제출 일시, 주소, 신고 건수 정보를 확인.
   - 승인 시 정식 데이터에 반영, 반려 시 사유를 저장.

2. **허위 신고 처리**
   - 신고 누적 건수가 일정 수 이상이면 강조 표시.
   - 관리자 확인 후 실제 정보 확인 → 삭제/유지 결정.

3. **데이터 수정/삭제**
   - 관리자 UI에서 흡연구역 정보 수정, 삭제 기능 제공.

### 2.3 기타 기능 (향후)
- 커뮤니티/후기 작성 기능.
- 주변 편의시설 정보(편의점, 카페, 공원 등) 연계.
- 지도 공유(카카오톡, 메시지 등) 기능.

---

## 3. 사용자 여정 (User Journey)

### 3.1 사용자 시나리오
1. **일반 사용자**
   - 앱/웹 접속 → 위치 권한 허용 → 지도 자동 이동 → 주변 흡연구역 마커 확인 → 상세 정보 확인.
   - 새로운 흡연구역 발견 시 제보 → 관리자 승인 후 지도에 반영.

2. **관리자**
   - 관리자 페이지 로그인 → 새로운 제보 목록 확인 → 현장 확인/검증 → 승인/삭제.
   - 허위 신고 내역 확인 → 필요시 마커 삭제 → 신고자에게 결과 안내(향후).

### 3.2 페르소나 예시
| 이름 | 속성 | 목표/욕구 |
| --- | --- | --- |
| 박OO (28세, 직장인) | 흡연자 | 회사 주변 합법적 흡연구역 빠르게 파악 |
| 김OO (35세, 주민) | 비흡연자 | 금연구역 정보 확인으로 간접흡연 피해 방지 |
| 이OO (48세, 지자체 담당) | 관리자 | 흡연구역 운영 실태 파악, 민원 대응 |

---

## 4. 정보 구조 (IA) 및 화면 설계

### 4.1 정보 구조
```
홈 (지도) → 상세 InfoWindow → 신고/제보 다이얼로그
          → 즐겨찾기 (향후)
관리자 대시보드 → 제보 목록 → 상세 → 승인/삭제
```

### 4.2 주요 화면 요약
| 화면 | 설명 |
| --- | --- |
| 지도 홈 | 현재 위치 기반 지도, 마커, 상태 메시지, 범례 |
| 상세 InfoWindow | 주소, 상세 설명, 신고/제보 버튼 |
| 제보 다이얼로그 | 위치 정보, 상세 설명 입력, 제보 제출 |
| 관리자 목록 | 제보 및 신고 리스트, 승인/삭제 버튼 |

### 4.3 UX 고려 사항
- 초회 진입 시 위치 권한 설명 및 허용 요청.
- 지도 이동 시 데이터 재요청을 디바운싱 처리하여 과도한 API 호출 방지.
- 허위 신고가 반복되는 흡연구역은 별도 표시.
- 관리자 작업 로그/알림 기능 제공(향후).

---

## 5. 데이터 및 운영 계획

### 5.1 데이터 수집 전략
- **공공 데이터**: 지자체 공개 흡연구역 데이터를 정기적으로 수집.
- **시민 제보**: 앱 내부 기능, 외부 제휴 커뮤니티 등에서 신고/제보 접수.
- **운영 데이터**: 신고수, 방문 기록 등 사용량 분석.

### 5.2 데이터 검증 및 품질 관리
- 관리자 검수 프로세스: 제보 → 임시DB 저장 → 승인/반려 → 정식DB 반영.
- 허위 신고 대비: 신고량이 기준치를 넘으면 자동 알림.
- 데이터 백업 및 복원 정책 수립.

### 5.3 정책 및 약관 (고려)
- 개인정보 처리방침 (위치 정보, 제보자 정보).
- 제보 가이드라인 (허위 제보 방지).
- 관리자 권한 및 책임 범위 명시.

---

## 6. 기술 및 인프라 초안

### 6.1 기술 스택 제안
| 영역 | 기술 |
| --- | --- |
| 프론트엔드 | Flutter Web (Neumorphic UI 가능), Naver Maps SDK |
| 백엔드 | Node.js + Express |
| 데이터베이스 | PostgreSQL (향후 PostGIS 확장 고려) |
| DevOps | Docker, GitHub Actions, Kubernetes/Cloud Run (선택) |
| 데이터 파이프라인 | Python (Pandas, Requests) |

### 6.2 배포/운영 전략 초안
- 최초 MVP는 웹 중심으로 배포, PWA 형태로 모바일 사용자 대응.
- 추후 네이티브 앱 빌드 또는 React Native/Flutter 앱으로 확장.
- 시간대/행정구역별 데이터 업데이트 스케줄 관리.

### 6.3 보안 고려 사항
- 관리자 토큰, API 키 관리 강화(Secret Manager, Vault 등).
- SSL/TLS 적용, CORS 정책 설정.
- 데이터 입력 값 검증 (SQL 인젝션, XSS 등 방지).

---

## 7. 로드맵 (예시)

| 단계 | 기간 | 주요 내용 |
| --- | --- | --- |
| 1단계 (1~2개월) | MVP | 지도 표시, 제보/신고, 관리자 승인 기본 기능 |
| 2단계 (3~4개월) | 고도화 | 즐겨찾기, 통계, 후기, PUSH 알림 등 |
| 3단계 (5개월 이후) | 확장 | 모바일 앱, PostGIS, AI 검증, 제휴사 연계 |

---

## 8. 성공 지표 (KPI) 예시
- 월간 활성 사용자 수 (MAU)
- 사용자당 평균 조회 흡연구역 수
- 제보 승인율 / 허위 제보 비율
- 신고 처리 속도, 데이터 최신성 (예: 30일 이내 업데이트 비율)

---

## 9. 향후 과제 및 리스크
- 공공 데이터 소스의 품질 편차 → 관리자 검수 강화 필요.
- 제보/신고 남용 우려 → Rate Limiting, 사용자 등급제 도입 검토.
- 네이버 지도 SDK 정책 변경, 키 관리 → 지속적인 모니터링 필요.
- 위치 정확도 문제 → 보정 로직, 사용자 수동 수정 기능 고려.

---

## 10. 결론
where_smoking은 흡연자에게는 합법적이고 편리한 흡연구역 안내를, 비흡연자에게는 금연구역 정보를, 행정기관에는 운영 데이터를 제공함으로써 사회적 가치가 있는 서비스가 될 것이다. 초기에는 핵심 기능에 집중하고, 사용자 피드백을 기반으로 단계적 고도화를 진행하여 신뢰도 높은 흡연구역 플랫폼으로 자리매김하는 것을 목표로 한다.

